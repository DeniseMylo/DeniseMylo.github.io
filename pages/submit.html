<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Places to sit: Montreal</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="../script.js"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row justify-content-around">
                <div class="col-md-3 offset-md-3">
                    <a href="../index.html">
                        <img class="pl-5 pr-5 pt-5 zoom" src="../res/Text/headerTitle.png" width="350px"/>
                    </a>
                </div>
            </div>
            <div class="row pl-5 pr-5">
                <div class="col-md-4 align-self-start pt-5">
                    <p class="submitText">Have your seen any interesting<br>benches in your city?<br>Submit a bench.</p>
                </div>
                <div class="col-md-8 align-self-end pt-5 mt-4 pb-5">
                    <form class="gform" id="submitForm" method="POST" data-email="example@email.net" action="https://script.google.com/macros/s/AKfycbwmqqg3j2hC_AbAzbQ-ertjb5HYqXHU5S08m93h4DYglK3B2pE/exec">
                        <div class="row pt-5 mb-3">
                            <div class="col-md-2">
                                <p class="submitFormText">City</p>
                            </div>
                            <div class="col-md-4 ml-0 pl-0">
                                <input required type="text" name="city" class="form-control" id="City" width="100%">
                            </div>
                            <div class="col-md-2">
                                <p class="submitFormText">Location</p>
                            </div>
                            <div class="col-md-4 p-0 m-0">
                                <input required type="text" name="location" class="form-control" id="Location" width="100%">
                            </div>
                        </div>
                        <div class="row mt-3 mb-3">
                            <div class='col-md-3'>
                                <p class="submitFormText">What do you like<br>about this bench?</p>
                            </div>
                            <div class="col-md-9 m-0 p-0">
                                <textarea required class="form-control" name="like" rows="2" id="Like"></textarea>
                            </div>
                        </div>
                        <div class="row mt-3 mb-3">   
                            <div class='col-md-3'>
                                <p class="submitFormText">Is there a story<br>behind this bench?</p>
                            </div>
                            <div class="col-md-9 m-0 p-0">
                                <textarea required class="form-control" name="story" rows="2" id="Story"></textarea>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col-md-6 pt-2 mr-0 pr-0">
                                <input required type="file" name="image" class="form-control submitFormButton imageFile" id="uploadfile" accept="image/*">
                                <div id="data"></div>
                            </div>
                            <div class="col-md-6 mr-0 pr-0 pt-2">
                                <button class="button-success pure-button button-xlarge btn-block form-control submitFormButton">Send</button>
                            </div>
                        </div>
                        <div style="display:none" class="thankyou_message">
                            <h2 >Thank you for Submitting</h2>
                        </div>
                    </form>
                    <script>
                        $('#uploadfile').on("change", function() {
                            var file = this.files[0];
                            var fr = new FileReader();
                            fr.fileName = file.name;
                            fr.onload = function(e) {
                                e.target.result
                                html = '<input type="hidden" name="data" value="' + e.target.result.replace(/^.*,/, '') + '" >';
                                html += '<input type="hidden" name="mimetype" value="' + e.target.result.match(/^.*(?=;)/)[0] + '" >';
                                html += '<input type="hidden" name="filename" value="' + e.target.fileName + '" >';
                                $("#data").empty().append(html);
                            }
                            fr.readAsDataURL(file);
                        });
                    </script>
                </div>       
            </div>
        </div>
        <div class="container-fluid page-footer page-footer navButtonsPages">
            <div class="row text-white align-items-center align-self-cente">
                <div class="col-xl-3 mb-4">
                    <a class="text-white" href="../index.html">Home</a>
                </div>
                <div class="col-xl-3 mb-4">
                    <a>Map</a>
                </div>
                <div class="col-xl-3 mb-4">
                    <a>About</a>
                </div>
                <div class="col-xl-3 mb-4">
                    <a>Submit</a>
                </div>
            </div>
        </div>  
        <script data-cfasync="false" src="../form-submission-handler.js"></script> 
    </body>
</html>